{% extends 'base.html' %}
{% load static %}  <!-- Load static files -->
{% block title %}{{ assessment.assessment_title }}{% endblock %}

{% block content %}
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">

<div class="container my-4">
    <!-- Header Section -->
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h2 class="text-center mb-4">Assessment Results for {{ assessment.title }}</h2>
        <a href="{% url 'assessment:assessment_list' %}" class="btn btn-outline-secondary">Back to List</a>
        
    </div>

    <div class="row">
        <!-- Thông tin người dùng ở bên trái -->
        <div class="col-md-3">
            <h5>{{ attempt.email }}</h5>

            <p>Joined on: {{ attempt.attempt_date }}</p>
            <p>Invite by: {{ assessment.created_by }}</p>

            <!-- Sidebar Navigation -->
            <nav class="nav flex-column">
                <a class="nav-link text-muted border-start border-primary ps-3 active" href="#score-section">Scores</a>
                <a class="nav-link text-muted border-start border-primary ps-3" href="#skill-ratings">Skill Ratings</a>
                <a class="nav-link text-muted border-start border-primary ps-3" href="#score-card">Scorecard</a>
                <a class="nav-link text-muted border-start border-primary ps-3" href="#">Challenge Solutions</a>
              </nav> 
        </div>

        <!-- Khoảng trống giữa thông tin và bảng -->
        <div class="col-md-1"></div> <!-- Sử dụng khoảng trống offset -->

        <!-- Hai bảng được căn về bên phải -->
        <h2 id="score-section">Score</h2>
        <div class="row">
            <div class="col-md-4 d-flex">
                <div class="card mb-4 w-100 h-100">
                    <div class="card-header">
                        <h3 class="mb-0">Quiz Answers</h3>
                    </div>
                    <div class="card-body">
                        <div class="bg-light fw-bold fs-3 col-12 d-flex justify-content-between">
                            <span>Score</span>
                            <span>Final score</span>
                        </div>
                        <hr>
                        <div class="col-12 d-flex justify-content-between">
                            <span>Score Quiz</span>
                            <span>{{ score_quiz }}</span>
                        </div>
                        <hr>
                        <div class="col-12 d-flex justify-content-between">
                            <span>Score Code</span>
                            <span>{{ score_ass }}</span>
                        </div>
                        <hr>
                        <div class="col-12 d-flex justify-content-between">
                            <span>Challenges</span>
                            <span>###</span>
                        </div>
                    </div>
                </div>
            </div>
        
            <div class="col-md-4 d-flex">
                <div class="card mb-4 w-100 h-100">
                    <div class="card-header">
                        <h3 class="mb-0">Cheating</h3>
                    </div>
                    <div class="card-body">
                        <div class="bg-light fw-bold fs-3 col-12 d-flex justify-content-between">
                            <span>Cheating</span>
                            <span>Overall</span>
                        </div>
                        <hr>
                        <div class="col-12 d-flex justify-content-between">
                            <span><i class="fas fa-window-restore me-2"></i>Leaving tab</span>
                            <span>No</span>
                        </div>
                        <hr>
                        <div class="col-12 d-flex justify-content-between">
                            <span><i class="fas fa-scissors me-2"></i>Paste from external sources</span>
                            <span>Not detected</span>
                        </div>
                        <hr>
                        <div class="col-12 d-flex justify-content-between">
                            <span><i class="fas fa-exclamation-triangle me-2"></i>Plagiarism</span>
                            <span>Not detected</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <hr>
    <div class="container my-4">
        <h2 class="mb-4" id="skill-ratings">Skill Ratings</h2>
        <div class="row row-cols-1 row-cols-md-2 g-4">
            <!-- TypeScript Skill Card -->
            <div class="col">
                <div class="card border-0 shadow-sm rounded-3 p-3">
                    <div class="d-flex justify-content-between align-items-center">
                        <div class="d-flex align-items-center">
                            <img src="{% static 'images/typescript.png' %}" alt="TypeScript Icon" class="me-3" style="width: 30px; height: 30px;">
                            <h5 class="mb-0">TypeScript</h5>
                        </div>
                        <span class="text-muted">8/10 Pts</span>
                    </div>
                    <div class="progress mt-3" style="height: 10px;">
                        <div class="progress-bar bg-success" role="progressbar" style="width: 80%;" aria-valuenow="8" aria-valuemin="0" aria-valuemax="10"></div>
                    </div>
                </div>
            </div>

            <!-- JavaScript Skill Card -->
            <div class="col">
                <div class="card border-0 shadow-sm rounded-3 p-3">
                    <div class="d-flex justify-content-between align-items-center">
                        <div class="d-flex align-items-center">
                            <img src="{% static 'images/javascript.png' %}" alt="JavaScript Icon" class="me-3" style="width: 30px; height: 30px;">
                            <h5 class="mb-0">JavaScript</h5>
                        </div>
                        <span class="text-muted">19/30 Pts</span>
                    </div>
                    <div class="progress mt-3" style="height: 10px;">
                        <div class="progress-bar bg-warning" role="progressbar" style="width: 63%;" aria-valuenow="19" aria-valuemin="0" aria-valuemax="30"></div>
                    </div>
                </div>
            </div>

            <!-- Python Skill Card -->
            <div class="col">
                <div class="card border-0 shadow-sm rounded-3 p-3">
                    <div class="d-flex justify-content-between align-items-center">
                        <div class="d-flex align-items-center">
                            <img src="{% static 'images/python.svg' %}" alt="Python Icon" class="me-3" style="width: 30px; height: 30px;">
                            <h5 class="mb-0">Python</h5>
                        </div>
                        <span class="text-muted">5/10 Pts</span>
                    </div>
                    <div class="progress mt-3" style="height: 10px;">
                        <div class="progress-bar bg-info" role="progressbar" style="width: 50%;" aria-valuenow="5" aria-valuemin="0" aria-valuemax="10"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <hr>
    <div>
        <h2 id="score-card">Score card</h2>
    </div>
    <div class="col-md-12">
        <div class="card">
            <div class="card-header d-flex align-items-center">
                <!-- Algorithm skill -->
                <div class="d-flex align-items-center" id="algorithm-skill">
                    <h5 class="mb-0 bg-light fw-bold">Algorithm skill</h5>
                    <div class="d-flex ml-3">
                        <button type="button" class="btn btn-link star" data-value="1">
                            <i class="bi bi-star" style="font-size: 13px;"></i>
                        </button>
                        <button type="button" class="btn btn-link star" data-value="2">
                            <i class="bi bi-star" style="font-size: 13px;"></i>
                        </button>
                        <button type="button" class="btn btn-link star" data-value="3">
                            <i class="bi bi-star" style="font-size: 13px;"></i>
                        </button>
                        <button type="button" class="btn btn-link star" data-value="4">
                            <i class="bi bi-star" style="font-size: 13px;"></i>
                        </button>
                        <button type="button" class="btn btn-link star" data-value="5">
                            <i class="bi bi-star" style="font-size: 13px;"></i>
                        </button>
                    </div>
                </div>
            
                <!-- Thanh phân cách thẳng đứng -->
                <div class="vr mx-3" style="height: 60px; width: 5px"></div>
            
                <!-- Code Quality -->
                <div class="d-flex align-items-center" id="code-quality">
                    <h5 class="mb-0 bg-light fw-bold">Code Quality</h5>
                    <div class="d-flex ml-3">
                        <button type="button" class="btn btn-link star" data-value="1">
                            <i class="bi bi-star" style="font-size: 13px;"></i>
                        </button>
                        <button type="button" class="btn btn-link star" data-value="2">
                            <i class="bi bi-star" style="font-size: 13px;"></i>
                        </button>
                        <button type="button" class="btn btn-link star" data-value="3">
                            <i class="bi bi-star" style="font-size: 13px;"></i>
                        </button>
                        <button type="button" class="btn btn-link star" data-value="4">
                            <i class="bi bi-star" style="font-size: 13px;"></i>
                        </button>
                        <button type="button" class="btn btn-link star" data-value="5">
                            <i class="bi bi-star" style="font-size: 13px;"></i>
                        </button>
                    </div>
                </div>
            
                <div class="vr mx-3" style="height: 60px; width: 5px"></div>
            
                <!-- TypeScript skills -->
                <div class="d-flex align-items-center" id="typescript-skills">
                    <h5 class="mb-0 bg-light fw-bold">TypeScript skills</h5>
                    <div class="d-flex ml-3">
                        <button type="button" class="btn btn-link star" data-value="1">
                            <i class="bi bi-star" style="font-size: 13px;"></i>
                        </button>
                        <button type="button" class="btn btn-link star" data-value="2">
                            <i class="bi bi-star" style="font-size: 13px;"></i>
                        </button>
                        <button type="button" class="btn btn-link star" data-value="3">
                            <i class="bi bi-star" style="font-size: 13px;"></i>
                        </button>
                        <button type="button" class="btn btn-link star" data-value="4">
                            <i class="bi bi-star" style="font-size: 13px;"></i>
                        </button>
                        <button type="button" class="btn btn-link star" data-value="5">
                            <i class="bi bi-star" style="font-size: 13px;"></i>
                        </button>
                    </div>
                </div>  
            </div>
                
                
                
            <div class="card card-body">
                <div class="row mt-4">
                    <div class="col-md-12">
                        <div class="card">
                            <div class="card-header d-flex align-items-center">
                                <h5 class="mb-0">Private Notes</h5>

                                <div class="vr mx-3" style="height: 60px; width: 3px"></div>
                                <!-- Các nút định dạng văn bản -->
                                <div class="ml-auto" style="font-size: 14px;">
                                    <button class="btn btn-secondary" onclick="document.execCommand('bold')">
                                        <b>B</b>
                                    </button>
                                    <button class="btn btn-secondary" onclick="document.execCommand('italic')">
                                        <i>I</i>
                                    </button>
                                    <button class="btn btn-secondary" onclick="document.execCommand('underline')">
                                        <u>U</u>
                                    </button>
                                </div>
                            </div>
                            <div class="card-body">
                                <!-- Phần nhập liệu văn bản có thể định dạng -->
                                <div id="editor" class="form-control" contenteditable="true" rows="5" style="min-height: 150px; border: 1px solid #ccc; padding: 13px;" placeholder="Private notes to share with your team...">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <h2 id="challenges">Challenge solution</h2>
            <div class="col-md-12 mb-4 mt-6">
                <div class="card card-body d-flex  align-items-left">
                    <!-- Left section -->
                    <div class="d-flex align-items-center">
                        <!-- Array Addition section -->
                        <div>
                            <p class="mb-0"><b>Array Addition I</b> <i class="bi bi-box-arrow-up-right"></i></p>
                            <div class="d-flex align-items-center">
                                <a href="#" class="btn btn-link p-0">Run solution</a>
                                <span class="mx-2">|</span>
                                <span>20 mins</span>
                                <span class="mx-2">|</span>
                                <span class="text-success">Easy</span>
                            </div>
                        </div>

                        <!-- Vertical divider -->
                        <div class="vr mx-3" style="height: 80px;"></div>

                        <!-- Cheating not detected -->
                        <p class="mb-0 text-muted">Cheating not detected</p>

                        <div class="vr mx-3" style="height: 80px;"></div>


                        <div class="d-flex align-items-center ms-auto">
                            <!-- Score box -->
                            <div class="bg-success text-white rounded d-flex justify-content-center align-items-center" style="width:60px ; height:60px">
                                8/10
                            </div>
                
                            <!-- Vertical divider -->
                            <div class="vr mx-3" style="height: 80px;"></div>
                
                            <!-- Language and resources -->
                            <div>
                                <div>
                                    <span>TypeScript</span>
                                </div>
                                <div>
                                    <span><i class="bi bi-play-circle"></i> Video 1 2 3 4</span>
                                </div>
                                <div>
                                    <span><i class="bi bi-browser-chrome"></i> Vietnam</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-md-12 mb-4 mt-6">
                <div class="card card-body d-flex  align-items-left">
                    <!-- Left section -->
                    <div class="d-flex align-items-center">
                        <!-- Array Addition section -->
                        <div>
                            <p class="mb-0"><b>Distinct List</b> <i class="bi bi-box-arrow-up-right"></i></p>
                            <div class="d-flex align-items-center">
                                <a href="#" class="btn btn-link p-0">Run solution</a>
                                <span class="mx-2">|</span>
                                <span>20 mins</span>
                                <span class="mx-2">|</span>
                                <span class="text-danger">Hard</span>
                            </div>
                        </div>

                        <!-- Vertical divider -->
                        <div class="vr mx-3" style="height: 80px;"></div>

                        <!-- Cheating not detected -->
                        <p class="mb-0 text-muted">Cheating not detected</p>

                        <div class="vr mx-3" style="height: 80px;"></div>


                        <div class="d-flex align-items-center ms-auto">
                            <!-- Score box -->
                            <div class="bg-success text-white rounded d-flex justify-content-center align-items-center" style="width:60px ; height:60px">
                                8/10
                            </div>
                
                            <!-- Vertical divider -->
                            <div class="vr mx-3" style="height: 80px;"></div>
                
                            <!-- Language and resources -->
                            <div>
                                <div>
                                    <span>TypeScript</span>
                                </div>
                                <div>
                                    <span><i class="bi bi-play-circle"></i> Video 1 2 3 4</span>
                                </div>
                                <div>
                                    <span><i class="bi bi-browser-chrome"></i> Vietnam</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-md-12 mb-4 mt-6">
                <div class="card card-body d-flex  align-items-left">
                    <!-- Left section -->
                    <div class="d-flex align-items-center">
                        <!-- Array Addition section -->
                        <div>
                            <p class="mb-0"><b>Prime Time</b> <i class="bi bi-box-arrow-up-right"></i></p>
                            <div class="d-flex align-items-center">
                                <a href="#" class="btn btn-link p-0">Run solution</a>
                                <span class="mx-2">|</span>
                                <span>20 mins</span>
                                <span class="mx-2">|</span>
                                <span class="text-success">Easy</span>
                            </div>
                        </div>

                        <!-- Vertical divider -->
                        <div class="vr mx-3" style="height: 80px;"></div>

                        <!-- Cheating not detected -->
                        <p class="mb-0 text-muted">Cheating not detected</p>

                        <div class="vr mx-3" style="height: 80px;"></div>


                        <div class="d-flex align-items-center ms-auto">
                            <!-- Score box -->
                            <div class="bg-success text-white rounded d-flex justify-content-center align-items-center" style="width:60px ; height:60px">
                                8/10
                            </div>
                
                            <!-- Vertical divider -->
                            <div class="vr mx-3" style="height: 80px;"></div>
                
                            <!-- Language and resources -->
                            <div>
                                <div>
                                    <span>TypeScript</span>
                                </div>
                                <div>
                                    <span><i class="bi bi-play-circle"></i> Video 1 2 3 4</span>
                                </div>
                                <div>
                                    <span><i class="bi bi-browser-chrome"></i> Vietnam</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>



<script>

// Xử lý đánh giá sao cho "Algorithm skill"
document.addEventListener("DOMContentLoaded", function() {
    const algorithmStars = document.querySelectorAll("#algorithm-skill .star");
    algorithmStars.forEach(star => {
        star.addEventListener("click", function() {
            const rating = this.getAttribute("data-value");
            algorithmStars.forEach(s => s.querySelector("i").classList.remove("text-warning")); // Xóa màu vàng
            for (let i = 0; i < rating; i++) {
                algorithmStars[i].querySelector("i").classList.add("text-warning"); // Thêm màu vàng
            }
            console.log("Algorithm skill rating:", rating);
        });
    });
});

// Xử lý đánh giá sao cho "Code Quality"
document.addEventListener("DOMContentLoaded", function() {
    const codeQualityStars = document.querySelectorAll("#code-quality .star");
    codeQualityStars.forEach(star => {
        star.addEventListener("click", function() {
            const rating = this.getAttribute("data-value");
            codeQualityStars.forEach(s => s.querySelector("i").classList.remove("text-warning")); // Xóa màu vàng
            for (let i = 0; i < rating; i++) {
                codeQualityStars[i].querySelector("i").classList.add("text-warning"); // Thêm màu vàng
            }
            console.log("Code Quality rating:", rating);
        });
    });
});

// Xử lý đánh giá sao cho "TypeScript skills"
document.addEventListener("DOMContentLoaded", function() {
    const typescriptStars = document.querySelectorAll("#typescript-skills .star");
    typescriptStars.forEach(star => {
        star.addEventListener("click", function() {
            const rating = this.getAttribute("data-value");
            typescriptStars.forEach(s => s.querySelector("i").classList.remove("text-warning")); // Xóa màu vàng
            for (let i = 0; i < rating; i++) {
                typescriptStars[i].querySelector("i").classList.add("text-warning"); // Thêm màu vàng
            }
            console.log("TypeScript skills rating:", rating);
        });
    });
});
</script>


{% endblock %}


 